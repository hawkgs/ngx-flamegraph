<!--
  This component relies on css transform translate and scaleX in order to animate the positioning and expansion of flamegraph bars.

  Notably there were two design decisions made to optimize this component:

    1. No animations are performed on svg elements. Animating vector graphics requires the browser to rasterize each indiviudal frame (even if we're simply animating on transform translate). Instead svg elements are wrapped in divs and their parent divs are animated with transform translate, which skips rasterization and jumps straight to compositing.
    2. Expansion animations rely on animating transform scaleX instead of width. Animating width would cause the browser to trigger layout recalculation on each frame, whereas animating transform scaleX relies on the compositor.
-->

<div class="ngx-fg-chart-wrapper" [class.ngx-fg-grayscale]="selectedData && selectedData.length">
  <div
    *ngFor="let entry of entries; index as i"
    class="ngx-fg-bar"
    [class.ngx-fg-hide-bar]="!(minimumBarSize === undefined || getWidth(entry) > minimumBarSize)"
    [class.ngx-fg-navigable]="entry.navigable"
    [style.width.px]="getWidth(entry)"
    [style.height.px]="levelHeight"
    [style.transform]="'translate(' + getLeft(entry) + 'px,' + getTop(entry) + 'px)'"
    [style.background]="entry.color"
    [attr.data-idx]="i"
  >
    <span>{{ entry.label }}</span>
    <!-- <div
      class="svg-wrapper"
      [style.transform]="'scaleX(' + getWidth(entry) / width + ')'"
      [style.height.px]="levelHeight"
    >
        <g
          flamegraph-node
          (click)="frameClick.emit(entry.original)"
          (mouseOverZoneless)="frameMouseEnter.emit(entry.original)"
          (mouseLeaveZoneless)="frameMouseLeave.emit(entry.original)"
          (zoom)="zoom.emit(entry)"
          [navigable]="entry.navigable"
        ></g>
    </div> -->
  </div>
</div>
