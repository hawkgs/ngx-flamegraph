<!--
  This component relies on CSS `transform` translate and `clip-path`
  in order to animate the positioning and expansion of flamegraph bars.
  Animating `width` would cause the browser to trigger layout recalculation
  on each frame, whereas animating `clip-path` is hardware-accelerated.
-->

<div class="ngx-fg-chart-wrapper" [class.ngx-fg-grayscale]="selectedData && selectedData.length">
  <div
    *ngFor="let entry of entries; index as i"
    class="ngx-fg-bar"
    [class.ngx-fg-hide-bar]="!(minimumBarSize === undefined || getWidth(entry) > minimumBarSize)"
    [class.ngx-fg-navigable]="entry.navigable"
    [style.height.px]="levelHeight"
    [style.transform]="
      'translate(' + getLeft(entry) + 'px,' + getTop(entry) + 'px) scaleX(' + getScaleX(entry) + ')'
    "
    [style.background]="entry.color"
    [attr.data-idx]="i"
    [attr.data-label]="entry.label"
    [style]="'--scale-x: ' + 1 / getScaleX(entry) + ';'"
  ></div>
</div>
